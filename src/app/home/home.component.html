<!-- Body -->
<main>
  <div class="row">
    <div class="col-lg-3 col-md-6 col-sm-6">
      <div class="card card-dash">
        <div class="card-body card-body-d" >
          <div class="row">
            <div class="col-5 col-md-4">
              <div class="text-center">
                <fa-icon
                        placement="bottom"
                        container="body"
                        type="button"
                        [icon]="faUserSecret"
                        aria-hidden="true"
                        [routerLink]="['/agents/show-agents']"
                        class="gray-light-ico fa-2x"
                ></fa-icon>
              </div>
            </div>
            <div class="col-7 col-md-8">
              <div class="numbers">
                <div class="card-category" type="button" [routerLink]="['/agents/show-agents']" >Agents</div>
                <p class="card-title">{{ allAgents }}</p>
              </div>
            </div>
          </div>
        </div>
        <div class="card-footer">
          <app-pie-chart
            [activeAgents]="activeAgents"
            [inactiveAgents]="inactiveAgents"
            [workingAgents]="workingAgents"
          ></app-pie-chart>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-6">
      <div class="card card-dash">
        <div class="card-body card-body-d" style="padding-bottom: 39.6px">
          <div class="row">
            <div class="col-5 col-md-4">
              <div class="text-center">
                <fa-icon
                        placement="bottom"
                        container="body"
                        [icon]="faTasks"
                        aria-hidden="true"
                        [routerLink]="['/tasks/show-tasks']"
                        class="gray-light-ico fa-2x"
                ></fa-icon>
              </div>
            </div>
            <div class="col-7 col-md-8">
              <div class="numbers">
                <p class="card-category" type="button" [routerLink]="['/tasks/show-tasks']">Tasks</p>
                <p class="card-title">{{ totalTasks }}</p>
              </div>
            </div>
          </div>
        </div>
        <div class="card-footer">
          <hr>
          <div class="stats">
            <fa-icon
                    placement="bottom"
                    container="body"
                    [icon]="faCheckCircle"
                    aria-hidden="true"
             ></fa-icon>
             <i>Total Live Tasks</i>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-6">
      <div class="card card-dash">
        <div class="card-body card-body-d" style="padding-bottom: 39.6px">
          <div class="row">
            <div class="col-5 col-md-4">
              <div class="text-center">
                <fa-icon
                        placement="bottom"
                        container="body"
                        [icon]="faTasksAlt"
                        aria-hidden="true"
                        [routerLink]="['/tasks/supertasks']"
                        class="gray-light-ico fa-2x"
                ></fa-icon>
              </div>
            </div>
            <div class="col-7 col-md-8">
              <div class="numbers">
                <p class="card-category" type="button" [routerLink]="['/tasks/supertasks']">SuperTasks</p>
                <p class="card-title">{{ allsupertasks }}</p>
                  <p>
              </div>
            </div>
          </div>
        </div>
        <div class="card-footer ">
          <hr>
          <div class="stats">
            <fa-icon
                    placement="bottom"
                    container="body"
                    [icon]="faCheckCircle"
                    aria-hidden="true"
             ></fa-icon>
             <i>Total SuperTasks</i>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-3 col-md-6 col-sm-6">
      <div class="card card-dash">
        <div class="card-body card-body-d" style="padding-bottom: 39.6px">
          <div class="row">
            <div class="col-5 col-md-4">
              <div class="text-center">
                <fa-icon
                        placement="bottom"
                        container="body"
                        [icon]="faChainBroken"
                        aria-hidden="true"
                        [routerLink]="['/hashlists/show-cracks']"
                        class="gray-light-ico fa-2x"
                ></fa-icon>
              </div>
            </div>
            <div class="col-7 col-md-8">
              <div class="numbers">
                <p class="card-category" type="button" [routerLink]="['/hashlists/show-cracks']">Total Cracks</p>
                <p class="card-title">{{ totalCracks }}</p>
                  <p>
              </div>
            </div>
          </div>
        </div>
        <div class="card-footer ">
          <hr>
          <div class="stats">
            <fa-icon
                    placement="bottom"
                    container="body"
                    [icon]="faCalendarWeek"
                    aria-hidden="true"
             ></fa-icon>
             <i>Last 7 days</i>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-5">
      <div class="card">
        <fa-icon
          placement="bottom"
          container="body"
          [icon]="faEdit"
          aria-hidden="true"
          style="align-self: end; position: relative; right:20px; top:20px"
          (click)="openModal()"
        />
        <app-progress-bar
          [tasks]="topTasks">
        </app-progress-bar>
        <ng-template #chartSettings let-modal>
          <div class="modal-header">
            <h4 class="modal-title" id="modal-basic-title">Task Progress settings</h4>
          </div>
          <div class="modal-body" [formGroup]="settingsForm">
            <div class="mb-3">
              <label for="showColorCheckbox" class="form-check-label me-2">Show Task Color</label>
              <input type="checkbox" [checked]="showColor" class="form-check-input" id="showColorCheckbox" formControlName="showColor">
            </div>
      
            <div class="mb-3">
              <label for="numberOfTasksInput" class="form-label">Amount of shown Tasks</label>
              <input
                type="number"
                class="form-control"
                id="numberOfTasksInput"
                formControlName="numberOfTasks"
                min="1"
                max="10"
              >
              </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-gray-600" (click)="modal.dismiss('Close click')">Close</button>
            <button type="submit" class="btn btn-gray-600" (click)="onSubmit()">Save changes</button>
          </div>
        </ng-template>
      </div>
    </div>

      <div class="col-md-7">
        <div class="card ">
          <div class="card-header ">
            <h5 class="card-title">Cracked</h5>
          </div>
          <div class="card-body card-body-d">
            <div id="pcard" class="app-echarts" style="height: 310px;"></div>
          </div>
        </div>
      </div>
    </div>
</main>

<!-- Refresh Button -->
<fa-icon
        class="point fa-2xl md-ico-bottom-right"
        style="color:rgba(82, 207, 44, 0.459)"
        ngbTooltip='Disable Auto-reload page. Edit interval time in Config/Settings/Task.'
        *ngIf="storedAutorefresh.active === true"
        (click)="setAutoreload(true)"
        [icon]="faRefresh"
        aria-hidden="true"
  ></fa-icon>
<fa-icon
        class="point fa-2xl md-ico-bottom-right"
        style="color:rgba(231, 155, 41, 0.459)"
        ngbTooltip='Enable Auto-reload page. Edit interval time in Config/Settings/Task.'
        *ngIf="storedAutorefresh.active === false"
        (click)="setAutoreload(false)"
        [icon]="faPauseCircle"
        aria-hidden="true"
  ></fa-icon>
